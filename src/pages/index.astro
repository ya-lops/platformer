---
import GameLayout from "../layouts/GameLayout.astro";
import StartGameButton from "../components/StartGameButton.astro";
import RestartGameButton from "../components/RestartGameButton.astro";
import Background from "../components/Background.astro";
import Character from "../components/Character.astro";
import JumpButton from "../components/JumpButton.astro";
---

<GameLayout>
  <StartGameButton />
  <Background />
  <RestartGameButton />
  <JumpButton />
  <Character />
</GameLayout>

<style is:global>
  .jump-button:has(:focus-within) {
    ~ .character-box,
    ~ .playground {
      --jumped: true;
    }
  }

  .playground {
    container-name: playground;
  }

  .start-game:has(input:not(:checked)) ~ *:not(.background) {
    visibility: hidden;
    pointer-events: none;
  }

  .start-game:has(input:not(:checked)) ~ .background {
    filter: brightness(0.25) blur(10px);
  }

  .start-game:has(:checked) ~ .background {
    --game-started: true;
    transition: filter 0.5s;
  }
</style>
