---
import GameLayout from "../layouts/GameLayout.astro";
import StartGameButton from "../components/StartGameButton.astro";
import Score from "../components/Score.astro";
import RestartGameButton from "../components/RestartGameButton.astro";
import Background from "../components/Background.astro";
import Character from "../components/Character.astro";
import JumpButton from "../components/JumpButton.astro";
import Obstacle from "../components/Obstacle.astro";
---

<GameLayout>
  <StartGameButton />
  <Background />
  <Score/>
  <RestartGameButton />
  <JumpButton />
  <Character />
  <Obstacle/>
</GameLayout>

<style is:global>
  .jump-button:has(:active, :focus-within) ~ .character-box {
    --jumped: true;
  }

  .start-game:has(input:not(:checked)) {
    & ~ :not(.background) {
      visibility: hidden;
    }

    & ~ .background {
      filter: brightness(0.25) blur(10px);
      scale: 1.1;
    }
  }

  .start-game:has(:checked) ~ :where(.score, .background, .obstacle-box) {
    --game-started: true;
  }
</style>
